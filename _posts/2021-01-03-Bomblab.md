---
layout: post
title:  "Bomblab"
date:   2021-01-02 20:19:35 +0900
categories: [ComputerArchitecture]
---
# Bomblab
## bomb이 안 터지게 하려면?
bomb이 안 터지게 하는 데에는 몇 가지 방법이 있는데, 앞의 두 개는 쉬운 거라서 마지막 Binary Patch를 중점적으로 메모했습니다. 

1. GDB Breakpoints
    기본적인 방법입니다. gdb 상에서 `break *explode_bomb` 과 같은 명령어를 통해 해당 함수에 breakpoint를 걸 수 있습니다. 
1. copy to local directory
    bomb을 로컬 디렉토리로 이동시킨 뒤에 실행합니다. 
1. Binary Patch
    가령 bomb 내부에 `curl`이란 함수가 서버와의 통신을 담당한다면(bomb이 터지면 감점) 이 함수를 다르게 실행되도록 합니다. 방법은 원래의 PATH에 있는 curl을  우선 PATH를 만집니다.  
    `echo echo 1234 > /tmp/curl` 을 해서 /tmp 디렉토리 아래에 curl이라는 파일을 만들어줍니다. 그 뒤 `chmod +x /tmp/curl`을 통해 만든 파일을 실행 가능하도록 바꿔줍니다. 그 다음 bomb이 있는 디렉토리로 가서, `PATH=/tmp ./bomb` 명령어를 입력하면 api-key를 입력하지 않고도 bomb을 실행시킬 수 있고, api-key가 입력되지 않았으므로 bomb이 터지거나 말거나 remote server에는 전달되지 않습니다. 